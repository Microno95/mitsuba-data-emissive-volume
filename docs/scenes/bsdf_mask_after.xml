<?xml version="1.0" encoding="utf-8"?>

<scene version="2.0.0">
	<default name="spp" value="64"/>
	<integrator type="path" />

    <bsdf type="mask" id="object_bsdf">
        <bsdf type="diffuse">
            <spectrum name="reflectance" value="400:0.092, 404:0.096, 408:0.098, 412:0.097, 416:0.098, 420:0.095, 424:0.095, 428:0.097, 432:0.095, 436:0.094, 440:0.097, 444:0.098, 448:0.096, 452:0.101, 456:0.103, 460:0.104, 464:0.107, 468:0.109, 472:0.112, 476:0.115, 480:0.125, 484:0.14, 488:0.16, 492:0.187, 496:0.229, 500:0.285, 504:0.343, 508:0.39, 512:0.435, 516:0.464, 520:0.472, 524:0.476, 528:0.481, 532:0.462, 536:0.447, 540:0.441, 544:0.426, 548:0.406, 552:0.373, 556:0.347, 560:0.337, 564:0.314, 568:0.285, 572:0.277, 576:0.266, 580:0.25, 584:0.23, 588:0.207, 592:0.186, 596:0.171, 600:0.16, 604:0.148, 608:0.141, 612:0.136, 616:0.13, 620:0.126, 624:0.123, 628:0.121, 632:0.122, 636:0.119, 640:0.114, 644:0.115, 648:0.117, 652:0.117, 656:0.118, 660:0.12, 664:0.122, 668:0.128, 672:0.132, 676:0.139, 680:0.144, 684:0.146, 688:0.15, 692:0.152, 696:0.157, 700:0.159"/>
        </bsdf>

        <texture name="opacity" type="bitmap">
            <string name="filename" value="textures/leaf_mask.png"/>
        </texture>
    </bsdf>

    <shape type="obj">
        <string name="filename" value="meshes/rectangle.obj"/>
		<transform name="to_world">
			<rotate z="1" angle="225"/>
			<scale x="1.5" y="1.5" z="1.5"/>
			<translate x="0.15" y="0" z="1"/>
		</transform>
        <ref id="object_bsdf"/>
    </shape>

	<sensor type="perspective" id="Camera-camera">
		<string name="fov_axis" value="smaller"/>
		<float name="focus_distance" value="6.0"/>
		<float name="fov" value="28.8415"/>
		<transform name="to_world">
			<lookat target="3.04072, -2.85176, 2.80939" origin="3.69558, -3.46243, 3.25463" up="-0.317366, 0.312466, 0.895346"/>
		</transform>

		<sampler type="independent">
			<integer name="sample_count" value="$spp"/>
		</sampler>

		<film type="hdrfilm" id="film">
			<integer name="width" value="683"/>
			<integer name="height" value="512"/>
			<string name="pixel_format" value="rgb"/>
			<rfilter type="gaussian"/>
		</film>
	</sensor>

	<emitter type="envmap" id="Area_002-light">
		<string name="filename" value="textures/envmap.exr"/>
		<transform name="to_world">
			<rotate y="1" angle="-180"/>
			<matrix value="-0.224951 -0.000001 -0.974370 0.000000 -0.974370 0.000000 0.224951 0.000000 0.000000 1.000000 -0.000001 8.870000 0.000000 0.000000 0.000000 1.000000 "/>
		</transform>
		<float name="scale" value="3"/>
	</emitter>

	<texture type="checkerboard" id="planetex">
		<rgb name="color0" value="0.2"/>
		<rgb name="color1" value="0.4"/>
		<transform name="to_uv">
			<matrix value="8 0 0 0 0 8 0 0 0 0 8 0 0 0 0 1"/>
		</transform>
	</texture>

	<bsdf type="diffuse" id="planemat">
		<ref name="reflectance" id="planetex"/>
	</bsdf>

	<shape type="serialized" id="Plane-mesh_0">
		<string name="filename" value="meshes/matpreview.serialized"/>
		<integer name="shape_index" value="0"/>
		<transform name="to_world">
			<rotate z="1" angle="-4.3"/>
			<matrix value="3.38818 -4.06354 0 -1.74958 4.06354 3.38818 0 1.43683 0 0 5.29076 -0.0120714 0 0 0 1"/>
		</transform>

		<ref name="bsdf" id="planemat"/>
	</shape>
</scene>
